<div class="comment-section">



  <div class="product" *ngIf="product">
    <img src="https://vision-shop.bg/image/cache/data/photo_2020-03-22_01-36-11-600x600.jpg" class="product__img"
      alt="Product Image">
    <div class="product__info">
      <h2 class="product__title">{{ product.title }}</h2>
      <p class="product__description">{{ product.description }}</p>
      <p class="product__price">{{ product.comments}}</p>
      <!-- Add Comment Button -->
      <!-- <button class="add-comment-button">Add Comment</button> -->
      <!-- Details Button -->
    </div>
  </div>

  <h3>Comments</h3>
  <div class="container" *ngIf="filteredComments && filteredComments.length > 0">
    <div class="commentss" *ngFor="let comment of filteredComments">
      <h2 class="commentTitle">{{comment.username}} </h2>
      <p class="commetTitle">{{comment.content}}</p>
      <button class="edit" (click)="openEditModal(comment)">Edit</button>
      <button class="delete" (click)="deleteCommentar(comment._id)">Delete</button>
    </div>
  </div>

  <h3>Add Comment</h3>

  <form #form="ngForm" (ngSubmit)="addComentHandler(form)">

    <div class="form-group">
      <label for="commentText">Comment:</label>
      <textarea id="commentText" name="content" placeholder="Enter your comment here..." ngModel #contentInput="ngModel"
        maxlength="150"></textarea>
    </div>

    <button>Add Comment</button>
  </form>


  <div class="modal" *ngIf="editingComment">
    <div class="modal-content">
      <h3>Edit Comment</h3>
      <form #editForm="ngForm" (ngSubmit)="submitEdit(editForm)">
        <div class="form-group">
          <label for="userEmail">Email:</label>
          <input type="email" id="userEmail" name="userEmail" 
          [(ngModel)]="editingComment.username" 
           readonly>
        </div>
        <div class="form-group">
          <label for="commentContent">Comment:</label>
          <textarea id="commentContent" name="commentContent" ngModel="commentContent" [(ngModel)]="editingComment.content"></textarea>
        </div>
        <button type="submit">Submit</button>
      </form>
      <button (click)="closeEditModal()">Close</button>
    </div>
  </div>


</div>












<!-- <div class="comment-section">
    <h3>Add Comment</h3>
  
    <div class="form-group">
      <label for="userName">Your Name:</label>
      <input type="text" id="userName" name="userName"  placeholder="Your Name">
    </div>
  
    <div class="form-group">
      <label for="commentText">Comment:</label>
      <textarea id="commentText" name="commentText"  placeholder="Enter your comment here..."></textarea>
    </div>
  
    <button class="btn btn-primary" 
    >Add Comment</button>
  </div> -->